(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{2819:(e,t,r)=>{Promise.resolve().then(r.bind(r,2003))},2003:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var a=r(5155),s=r(2115),n=r(8173),l=r.n(n),o=r(728);let i="m-hu",c="m-hu.github.io",d="test-reports/";async function u(e,t){var r,a,s,n;let l=await fetch("https://api.github.com/repos/".concat(i,"/").concat(c,"/commits?sha=").concat(e,"&path=").concat(encodeURIComponent(t),"&per_page=1"));if(!l.ok)return null;let o=await l.json();return Array.isArray(o)&&0!==o.length&&null!==(n=null===(s=o[0])||void 0===s?void 0:null===(a=s.commit)||void 0===a?void 0:null===(r=a.committer)||void 0===r?void 0:r.date)&&void 0!==n?n:null}async function m(){let e=await fetch("https://api.github.com/repos/".concat(i,"/").concat(c));if(!e.ok)throw Error("Failed to load repository metadata");let t=(await e.json()).default_branch||"master",r=await fetch("https://api.github.com/repos/".concat(i,"/").concat(c,"/git/trees/").concat(t,"?recursive=1"));if(!r.ok)throw Error("Failed to load repository tree");let a=await r.json();if(!Array.isArray(a.tree))return[];let s=a.tree.filter(e=>{var t;return"blob"===e.type&&(null===(t=e.path)||void 0===t?void 0:t.startsWith(d))}).map(e=>{let t=e.path.slice(d.length);return{name:t,path:e.path,size:Number.isFinite(e.size)?e.size:null,href:"/test-reports/".concat(t)}});return(await Promise.all(s.map(async e=>{let r=await u(t,e.path);return{...e,lastUpdated:r}}))).sort((e,t)=>e.name.localeCompare(t.name))}function p(e){let{label:t,sortKey:r,sortBy:s,sortDirection:n,onToggle:l}=e,o=s===r;return(0,a.jsxs)("button",{type:"button",className:"font-semibold underline-offset-4 hover:underline",onClick:()=>l(r),children:[t,o?"asc"===n?" ^":" v":""]})}function f(){let[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[d,u]=(0,s.useState)(""),[f,h]=(0,s.useState)("lastUpdated"),[x,N]=(0,s.useState)("desc"),j=(0,s.useMemo)(()=>{let t=[...e];return t.sort((e,t)=>{if("size"===f){var r,a;return(null!==(r=e.size)&&void 0!==r?r:-1)-(null!==(a=t.size)&&void 0!==a?a:-1)}return"lastUpdated"===f?(e.lastUpdated?new Date(e.lastUpdated).getTime():0)-(t.lastUpdated?new Date(t.lastUpdated).getTime():0):e.name.localeCompare(t.name)}),"desc"===x&&t.reverse(),t},[e,f,x]);function y(e){if(e===f){N(e=>"asc"===e?"desc":"asc");return}h(e),N("name"===e?"asc":"desc")}return(0,s.useEffect)(()=>{let e=!0;return async function(){try{let r=await m();e&&t(r)}catch(t){e&&u(t instanceof Error?t.message:"Unable to load test reports")}finally{e&&n(!1)}}(),()=>{e=!1}},[]),(0,a.jsx)("main",{className:"py-10",children:(0,a.jsx)("section",{className:"mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{children:(0,a.jsx)(o.ZB,{children:"Test Results"})}),(0,a.jsx)(o.Wu,{children:r?(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading test reports..."}):d?(0,a.jsx)("p",{className:"text-sm text-destructive",children:d}):0===e.length?(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["No files found in ",(0,a.jsxs)("code",{children:[i,"/",c]})," under ",(0,a.jsx)("code",{children:"test-reports"}),"."]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full min-w-[720px] text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b text-left",children:[(0,a.jsx)("th",{className:"py-2 pr-4",children:(0,a.jsx)(p,{label:"Name",sortKey:"name",sortBy:f,sortDirection:x,onToggle:y})}),(0,a.jsx)("th",{className:"py-2 pr-4",children:(0,a.jsx)(p,{label:"Size",sortKey:"size",sortBy:f,sortDirection:x,onToggle:y})}),(0,a.jsx)("th",{className:"py-2",children:(0,a.jsx)(p,{label:"Last Updated",sortKey:"lastUpdated",sortBy:f,sortDirection:x,onToggle:y})})]})}),(0,a.jsx)("tbody",{children:j.map(e=>{var t;return(0,a.jsxs)("tr",{className:"border-b align-top",children:[(0,a.jsx)("td",{className:"py-2 pr-4",children:(0,a.jsx)(l(),{className:"underline-offset-4 hover:underline",href:e.href,children:e.name})}),(0,a.jsx)("td",{className:"py-2 pr-4 text-muted-foreground",children:!Number.isFinite(t=e.size)||t<0?"-":t<1024?"".concat(t," B"):t<1048576?"".concat((t/1024).toFixed(1)," KB"):"".concat((t/1048576).toFixed(1)," MB")}),(0,a.jsx)("td",{className:"py-2 text-muted-foreground",children:function(e){if(!e)return"-";let t=new Date(e);return Number.isNaN(t.getTime())?"-":t.toLocaleString()}(e.lastUpdated)})]},e.name)})})]})})})]})})})}},728:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>i,Zp:()=>l,aR:()=>o,wL:()=>u});var a=r(5155),s=r(2115),n=r(7849);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});l.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...s})});i.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},7849:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(3463),s=r(9795);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[193,441,517,358],()=>t(2819)),_N_E=e.O()}]);